<?xml version="1.0"?>
<!--
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:Setup/Declaration/Schema/etc/schema.xsd">
    <!-- Setup table omnyfy_mcm_fees_and_charges -->
    <table name="omnyfy_mcm_fees_and_charges" resource="default" engine="innodb" comment="Omnyfy Marketplace Commercials Management Fees and Charges Table">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="Fee and charges ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Vendor ID" />
        <column name="seller_fee" xsi:type="decimal" precision="12" scale="2" nullable="false" default="0.00" comment="	Seller Fee %" />
        <column name="min_seller_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Minimum Seller Fee" />
        <column name="max_seller_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Max Seller Fee" />
        <column name="disbursement_fee" xsi:type="decimal" precision="12" scale="2" nullable="false" default="0.00" comment="Disbursement Fee" />
        <column name="tax_name" xsi:type="varchar" length="255" nullable="true" comment="Tax Name" />
        <column name="tax_rate" xsi:type="decimal" precision="5" scale="2" nullable="true" default="0.00" comment="Tax Rate" />
        <column name="status" xsi:type="smallint" padding="6" nullable="false" comment="Fee Status" />
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Last Modification Time" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="tFK_507B598E65DAB059138D1B809A67D288ttt" table="omnyfy_mcm_fees_and_charges" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_payout -->
    <table name="omnyfy_mcm_vendor_payout" resource="default" engine="innodb" comment="Omnyfy Marketplace Commercials Management Vendor Payout Table">
        <column name="payout_id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="Payout ID" />
        <column name="fees_charges_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Fees charges ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Vendor ID" />
        <column name="ewallet_id" xsi:type="varchar" length="100" nullable="true" comment="Ewallet ID" />
        <column name="ewallet_balance" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="ewallet balance amount" />
        <column name="account_ref" xsi:type="varchar" length="100" nullable="true" comment="Account ref" />
        <column name="third_party_account_id" xsi:type="varchar" length="255" nullable="true" comment="Third party bank account id" />
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Last Modification Time" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="payout_id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_8EC065BA1F7577B608C5F3C31FD2737A" table="omnyfy_mcm_vendor_payout" column="fees_charges_id" referenceTable="omnyfy_mcm_fees_and_charges" referenceColumn="id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_2DBB64D10ED8EE6F98E72DC934B0131C" table="omnyfy_mcm_vendor_payout" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_payout_history -->
    <table name="omnyfy_mcm_vendor_payout_history" resource="default" engine="innodb" comment="Omnyfy Marketplace Commercials Management payout history Table">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="Payout history ID" />
        <column name="payout_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Payout ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="vendor_order_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor Order ID" />
        <column name="payout_ref" xsi:type="varchar" length="40" nullable="false" comment="Payout Reference Number" />
        <column name="payout_amount" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Payout Amount" />
        <column name="status" xsi:type="smallint" padding="6" nullable="false" comment="Payout Status: 0 = Failed, 1 = Suceess, 2 = In progress" />
        <column xsi:type="timestamp" name="created_at" nullable="true" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="true" comment="Last Modification Time" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_188D703B08084469A753A70CB32F0D66" table="omnyfy_mcm_vendor_payout_history" column="payout_id" referenceTable="omnyfy_mcm_vendor_payout" referenceColumn="payout_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_2B480EB321BA175246E3867FB89FB169" table="omnyfy_mcm_vendor_payout_history" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_order -->
    <table name="omnyfy_mcm_vendor_order" resource="default" engine="innodb" comment="Omnyfy Marketplace Commercials Management vendor order Table">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="order_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Order ID" />
        <column name="order_increment_id" xsi:type="varchar" length="32" nullable="true" comment="Order Increment ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="total_category_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Total Category Fee" />
        <column name="total_category_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Total category fee tax" />
        <column name="total_seller_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Total Seller Fee" />
        <column name="total_seller_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Total Seller Fee Tax" />
        <column name="disbursement_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Disbursement Fee" />
        <column name="disbursement_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Disbursement Fee Tax" />
        <column name="total_tax_onfees" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Total Tax on Fees" />
        <column name="vendor_total" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Vendor Total exclusive tax" />
        <column name="vendor_total_incl_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Vendor Total inclusive tax" />
        <column name="payout_amount" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Payout Amount" />
        <column name="payout_status" xsi:type="smallint" padding="6" nullable="false" comment="Vendor Payout Status: 0 = Unpaid, 1 = Paid, 2 = refund, 3 = In progress" />
        <column name="payout_action" xsi:type="smallint" padding="6" nullable="false" comment="Order Payout Action: 0 = Pending, 1 = Added to payout, 2 = Refunded" />
        <column name="subtotal" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Subtotal" />
        <column name="base_subtotal" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Subtotal" />
        <column name="subtotal_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Subtotal Incl Tax" />
        <column name="base_subtotal_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Subtotal Incl Tax" />
        <column name="tax_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Tax Amount" />
        <column name="base_tax_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Tax Amount" />
        <column name="discount_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Discount Amount" />
        <column name="base_discount_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Discount Amount" />
        <column name="shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Shipping Amount" />
        <column name="base_shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Shipping Amount" />
        <column name="shipping_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Shipping Incl Tax" />
        <column name="base_shipping_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Shipping Incl Tax" />
        <column name="shipping_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Shipping Tax" />
        <column name="base_shipping_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Shipping Tax" />
        <column name="shipping_discount_amount" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.00" comment="Shipping Discount Amount" />
        <column name="grand_total" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Grand Total" />
        <column name="base_grand_total" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Grand Total" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Last Modification Time" />
        <column name="payout_calculated" xsi:type="decimal" precision="10" scale="0" nullable="true" default="0" comment="Type of record" />
        <column name="payout_shipping" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Payout Shipping" />
        <column name="refund_shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Refund Shipping Amount" />
        <column name="base_refund_shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Refund Shipping Amount" />
        <column name="refund_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Refund Amount" />
        <column name="base_refund_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Base Refund Amount" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <index referenceId="OMNYFY_MCM_VENDOR_ORDER_CREATED_AT" indexType="btree">
            <column name="created_at" />
        </index>
        <index referenceId="OMNYFY_MCM_VENDOR_ORDER_UPDATED_AT" indexType="btree">
            <column name="updated_at" />
        </index>
        <constraint xsi:type="foreign" referenceId="OMNYFY_MCM_VENDOR_ORDER_ORDER_ID_SALES_ORDER_ENTITY_ID" table="omnyfy_mcm_vendor_order" column="order_id" referenceTable="sales_order" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_BD06D53ACA651534F5DCF9007775FEFC" table="omnyfy_mcm_vendor_order" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_order_item -->
    <table name="omnyfy_mcm_vendor_order_item" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Vendor ID" />
        <column name="order_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Order ID" />
        <column name="order_item_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Order Item ID" />
        <column name="seller_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Seller Fee" />
        <column name="seller_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Seller Fee Tax" />
        <column name="category_commission_percentage" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Category Commission Percentage" />
        <column name="category_fee" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Category Fee" />
        <column name="category_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Category Fee Tax" />
        <column name="row_total" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Item row total" />
        <column name="tax_amount" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Tax Amount" />
        <column name="discount_amount" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.00" comment="Discount Amount" />
        <column name="tax_percentage" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="Tax Percentage" />
        <column name="row_total_incl_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="Item Row Total Incl. Tax" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="OMNYFY_MCM_VENDOR_ORDER_ITEM_ORDER_ID_SALES_ORDER_ENTITY_ID" table="omnyfy_mcm_vendor_order_item" column="order_id" referenceTable="sales_order" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_E1C884004F26D02AF3960660BE002587" table="omnyfy_mcm_vendor_order_item" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_459230A2189CE0AC6AAAE7C2A7E87330" table="omnyfy_mcm_vendor_order_item" column="order_item_id" referenceTable="sales_order_item" referenceColumn="item_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_bank_account_type -->
    <table name="omnyfy_mcm_vendor_bank_account_type" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="account_type" xsi:type="varchar" length="255" nullable="false" comment="Account Type" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_vendor_bank_account -->
    <table name="omnyfy_mcm_vendor_bank_account" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="bank_name" xsi:type="varchar" length="80" nullable="false" comment="Bank Name" />
        <column name="account_type_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Account Type ID" />
        <column name="country" xsi:type="varchar" length="40" nullable="true" comment="Country" />
        <column name="account_name" xsi:type="varchar" length="100" nullable="false" comment="Account Name" />
        <column name="account_number" xsi:type="varchar" length="100" nullable="false" comment="Account Type" />
        <column name="account_type" xsi:type="varchar" length="40" nullable="true" comment="Account Type => savings or checking" />
        <column name="holder_type" xsi:type="varchar" length="40" nullable="true" comment="Holder Type => personal or business" />
        <column name="bsb" xsi:type="varchar" length="50" nullable="false" comment="Account Type" />
        <column name="company_name" xsi:type="varchar" length="150" nullable="false" comment="Account company_name" />
        <column name="bank_address" xsi:type="varchar" length="200" nullable="false" comment="Bank Address" />
        <column name="swift_code" xsi:type="varchar" length="50" nullable="false" comment="Swift Code" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Create date" />
        <column xsi:type="timestamp" name="updated_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Update date" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_4339D14573966CFAFE516C26CBCAB00B" table="omnyfy_mcm_vendor_bank_account" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_55A8F30E41F4A5183DD6145447C29290" table="omnyfy_mcm_vendor_bank_account" column="account_type_id" referenceTable="omnyfy_mcm_vendor_bank_account_type" referenceColumn="id" onDelete="CASCADE" />
    </table>


    <!-- Setup table omnyfy_mcm_vendor_invoice -->
    <table name="omnyfy_mcm_vendor_invoice" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="invoice_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Invoice ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="order_id" xsi:type="int" padding="11" nullable="true" comment="Order ID" />
        <column name="payout_id" xsi:type="int" padding="11" nullable="true" comment="Payout ID" />
        <column name="total_category_fee" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="total_category_fee" />
        <column name="total_category_fee_tax" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="total_category_fee_tax" />
        <column name="total_seller_fee" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="total_seller_fee" />
        <column name="total_seller_fee_tax" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="total_seller_fee_tax" />
        <column name="disbursement_fee" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="disbursement_fee" />
        <column name="disbursement_fee_tax" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="disbursement_fee_tax" />
        <column name="total_tax_onfees" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="total_tax_onfees" />
        <column name="subtotal" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="subtotal" />
        <column name="base_subtotal" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="base_subtotal" />
        <column name="subtotal_incl_tax" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="subtotal_incl_tax" />
        <column name="base_subtotal_incl_tax" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="base_subtotal_incl_tax" />
        <column name="tax_amount" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="tax_amount" />
        <column name="base_tax_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_tax_amount" />
        <column name="discount_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="discount_amount" />
        <column name="base_discount_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_discount_amount" />
        <column name="shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="shipping_amount" />
        <column name="base_shipping_amount" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_shipping_amount" />
        <column name="shipping_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="shipping_incl_tax" />
        <column name="base_shipping_incl_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_shipping_incl_tax" />
        <column name="shipping_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="shipping_tax" />
        <column name="base_shipping_tax" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_shipping_tax" />
        <column name="shipping_discount_amount" xsi:type="decimal" precision="10" scale="4" nullable="true" default="0.0000" comment="shipping_discount_amount" />
        <column name="grand_total" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="grand_total" />
        <column name="base_grand_total" xsi:type="decimal" precision="10" scale="2" nullable="true" default="0.00" comment="base_grand_total" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Create date" />
        <column xsi:type="timestamp" name="updated_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Update date" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_4B5A29EC712E4F9FAA24DD0F8F70E1E1" table="omnyfy_mcm_vendor_invoice" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="OMNYFY_MCM_VENDOR_INVOICE_INVOICE_ID_SALES_INVOICE_ENTITY_ID" table="omnyfy_mcm_vendor_invoice" column="invoice_id" referenceTable="sales_invoice" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Update table quote -->
    <table name="quote" resource="default" engine="innodb">
        <column name="mcm_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee" />
        <column name="mcm_base_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Base Transaction Fee" />
        <column name="mcm_transaction_fee_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
    </table>

    <!-- Update table quote_address -->
    <table name="quote_address" resource="default" engine="innodb">
        <column name="mcm_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee" />
        <column name="mcm_base_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Base Transaction Fee" />
        <column name="mcm_transaction_fee_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
    </table>

    <!-- Update table sales_order -->
    <table name="sales_order" resource="default" engine="innodb">
        <column name="mcm_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee" />
        <column name="mcm_base_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Base Transaction Fee" />
        <column name="mcm_transaction_fee_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_surcharge" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="MCM Transaction Fee Surcharge" />
        <column name="mcm_base_transaction_fee_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="MCM Base Transaction Fee Tax" />
        <column name="mcm_base_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="2" nullable="true" default="0.00" comment="MCM Base Transaction Fee Including Tax" />
    </table>

    <!-- Update table sales_invoice -->
    <table name="sales_invoice" resource="default" engine="innodb">
        <column name="mcm_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee" />
        <column name="mcm_base_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Base Transaction Fee" />
        <column name="mcm_transaction_fee_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
    </table>

    <!-- Update table sales_creditmemo -->
    <table name="sales_creditmemo" resource="default" engine="innodb">
        <column name="mcm_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee" />
        <column name="mcm_base_transaction_fee" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Base Transaction Fee" />
        <column name="mcm_transaction_fee_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
        <column name="mcm_transaction_fee_incl_tax" xsi:type="decimal" precision="12" scale="4" nullable="true" default="0.0000" comment="MCM Transaction Fee Tax" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_fee_report_admin -->
    <table name="omnyfy_mcm_vendor_fee_report_admin" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="order_id" xsi:type="varchar" length="200" nullable="true" comment="Order ID" />
        <column name="item_id" xsi:type="int" padding="10" unsigned="true" nullable="true" comment="Item ID" />
        <column name="vendor_id" xsi:type="int" padding="11" unsigned="true" nullable="true" comment="Vendor ID" />
        <column name="product_sku" xsi:type="varchar" length="100" nullable="true" comment="Product SKU	" />
        <column name="product_name" xsi:type="varchar" length="100" nullable="true" comment="Product Name" />
        <column name="price_paid" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Price Paid" />
        <column name="shipping_and_hanldling_total" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Shipping And Hanldling Total" />
        <column name="discount" xsi:type="decimal" precision="10" scale="2" unsigned="true" nullable="true" comment="Discount" />
        <column name="order_total_value" xsi:type="decimal" precision="10" scale="2" unsigned="true" nullable="true" comment="Order Total Value" />
        <column name="category_commission" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Category Commission" />
        <column name="seller_fee" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Seller Fee" />
        <column name="disbursement_fee" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Disbursement Fee" />
        <column name="total_fee" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Total Fee" />
        <column name="gross_earnings" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Gross Earnings" />
        <column name="tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Tax" />
        <column name="net_earnings" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Net Earnings" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Create date" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_sequence -->
    <table name="omnyfy_mcm_sequence" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="type" xsi:type="varchar" length="40" nullable="true" comment="Type" />
        <column name="prefix" xsi:type="varchar" length="4" nullable="true" comment="Prefix" />
        <column name="last_value" xsi:type="bigint" padding="20" nullable="true" comment="Last Sequence Value" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_marketplace_fee_report_admin -->
    <table name="omnyfy_mcm_marketplace_fee_report_admin" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="order_id" xsi:type="varchar" length="200" nullable="true" comment="Order ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Vendor ID" />
        <column name="vendor_name" xsi:type="varchar" length="100" nullable="true" comment="Vendor Name" />
        <column name="item_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Item ID" />
        <column name="product_sku" xsi:type="varchar" length="100" nullable="true" comment="Product SKU" />
        <column name="product_name" xsi:type="varchar" length="100" nullable="true" comment="Product Name" />
        <column name="price_paid" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Price Paid" />
        <column name="shipping_and_hanldling_total" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Shipping And Hanldling Total" />
        <column name="discount" xsi:type="decimal" precision="10" scale="2" unsigned="true" nullable="true" comment="Discount" />
        <column name="order_total_value" xsi:type="decimal" precision="10" scale="2" unsigned="true" nullable="true" comment="Order Total Value" />
        <column name="category_commission" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Category Commission" />
        <column name="seller_fee" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Seller Fee" />
        <column name="disbursement_fee" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Disbursement Fee" />
        <column name="transaction_fees" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Transaction Fee" />
        <column name="gross_earnings" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Gross Earnings" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Create date" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_vendor_shipping -->
    <table name="omnyfy_mcm_vendor_shipping" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="order_id" xsi:type="varchar" length="200" nullable="true" comment="Order ID" />
        <column name="vendor_id" xsi:type="varchar" length="200" nullable="true" comment="Vendor ID" />
        <column name="shipping_amount" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Shipping And Hanldling Amount" />
        <column name="base_shipping_amount" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="base_shipping_amount" />
        <column name="shipping_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="shipping_incl_tax" />
        <column name="base_shipping_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="base_shipping_incl_tax" />
        <column name="shipping_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="shipping_tax" />
        <column name="base_shipping_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="base_shipping_tax" />
        <column name="shipping_discount_amount" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="shipping_discount_amount" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_category_commission_report -->
    <table name="omnyfy_mcm_category_commission_report" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="category_id" xsi:type="varchar" length="200" nullable="true" comment="Category ID" />
        <column name="category_name" xsi:type="varchar" length="200" nullable="true" comment="Category Name" />
        <column name="category_commission_percentage" xsi:type="decimal" precision="12" scale="4" unsigned="true" nullable="true" comment="Category Commission Percentage" />
        <column name="category_commission_earned" xsi:type="decimal" precision="12" scale="4" unsigned="true" nullable="true" comment="Category Commission Earned" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Create date" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_vendor_payout_invoice -->
    <table name="omnyfy_mcm_vendor_payout_invoice" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="payout_ref" xsi:type="varchar" length="40" nullable="false" comment="Payout Reference Number" />
        <column name="increment_id" xsi:type="varchar" length="40" nullable="true" comment="Invoice Increment Id" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="orders_total_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Grand totals of all orders included in this invoice" />
        <column name="orders_total_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Tax amount included in the Order Total" />
        <column name="fees_total_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Total fees amount of all orders included in this invoice" />
        <column name="fees_total_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Tax amount included in the fees" />
        <column name="total_earning_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Total Earnings (incl. tax)" />
        <column name="shipping_total_for_order" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Shipping Total For Order" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Last Modification Time" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_6B4722E28A619FF4046CC9107EFDD91D" table="omnyfy_mcm_vendor_payout_invoice" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_vendor_payout_invoice_order -->
    <table name="omnyfy_mcm_vendor_payout_invoice_order" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="invoice_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Invoice ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" default="0" comment="Vendor ID" />
        <column name="order_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Order ID" />
        <column name="order_increment_id" xsi:type="varchar" length="32" nullable="true" comment="Order Increment Id" />
        <column name="order_total_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="The grand total of the order" />
        <column name="order_total_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Amount of tax included in the order" />
        <column name="fees_total_incl_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="The total amount of fees charged by the MO. Inclusive of tax" />
        <column name="fees_total_tax" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" default="0.00" comment="Tax amount included in the fees" />
        <column name="shipping_total_for_order" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Shipping Total For Order" />
        <column xsi:type="timestamp" name="created_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Creation Time" />
        <column xsi:type="timestamp" name="updated_at" nullable="false" default="CURRENT_TIMESTAMP" comment="Last Modification Time" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_069E28AEACFA031EFA3BE814FB1AEEE8" table="omnyfy_mcm_vendor_payout_invoice_order" column="invoice_id" referenceTable="omnyfy_mcm_vendor_payout_invoice" referenceColumn="id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_F5C26B6A6A6C89AAD72EBC0597E3E78D" table="omnyfy_mcm_vendor_payout_invoice_order" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_8EC065BA1F7577B608C5F3C31FD2737A" table="omnyfy_mcm_vendor_payout_invoice_order" column="order_id" referenceTable="sales_order" referenceColumn="entity_id" onDelete="CASCADE" />
    </table>

    <!-- Setup table omnyfy_mcm_shipping_calculation -->
    <table name="omnyfy_mcm_shipping_calculation" resource="default" engine="innodb">
        <column name="id" xsi:type="int" padding="10" unsigned="true" nullable="false" identity="true" comment="ID" />
        <column name="order_id" xsi:type="varchar" length="200" nullable="true" comment="Order ID" />
        <column name="vendor_id" xsi:type="varchar" length="200" nullable="true" comment="Vendor ID" />
        <column name="location_id" xsi:type="varchar" length="200" nullable="true" comment="Location ID" />
        <column name="ship_by_type" xsi:type="varchar" length="200" nullable="true" comment="Ship By Type" />
        <column name="total_charge" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Total Charge" />
        <column name="customer_paid" xsi:type="decimal" precision="12" scale="2" unsigned="true" nullable="true" comment="Customer Paid" />
        <column name="type" xsi:type="varchar" length="200" nullable="true" comment="Type of record" />
        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_payout_type -->
    <table name="omnyfy_mcm_payout_type" resource="default" engine="innodb">
        <column name="id" xsi:type="smallint" padding="6" nullable="false" identity="true" comment="Payout Type ID" />
        <column name="payout_type" xsi:type="varchar" length="20" nullable="false" comment="Payout Type" />

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
    </table>

    <!-- Setup table omnyfy_mcm_vendor_payout_type -->
    <table name="omnyfy_mcm_vendor_payout_type" resource="default" engine="innodb">
        <column name="id" xsi:type="smallint" padding="6" nullable="false" identity="true" comment="ID" />
        <column name="vendor_id" xsi:type="int" padding="10" unsigned="true" nullable="false" comment="Vendor ID" />
        <column name="payout_type_id" xsi:type="smallint" padding="6" nullable="false" comment="Payout Type ID" />

        <constraint xsi:type="primary" referenceId="PRIMARY">
            <column name="id" />
        </constraint>
        <constraint xsi:type="foreign" referenceId="FK_40F0D2A632959399E2A90AFC989A4C33" table="omnyfy_mcm_vendor_payout_type" column="vendor_id" referenceTable="omnyfy_vendor_vendor_entity" referenceColumn="entity_id" onDelete="CASCADE" />
        <constraint xsi:type="foreign" referenceId="FK_B61C5B9B44E5C7B3732F5D31DFEEC3FB" table="omnyfy_mcm_vendor_payout_type" column="payout_type_id" referenceTable="omnyfy_mcm_payout_type" referenceColumn="id" onDelete="CASCADE" />
    </table>
</schema>
