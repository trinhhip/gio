<?php
/* @var OmnyfyCustomzation\Vendor\Block\Vendor\Listing\Pager $block */
$currentPage = (int)$block->getCurrentPage();
$numberPage = $block->getNumberPage();
$pageStart = $block->getPageStart($numberPage);
$pageLength = $block->getPageLength();
$lastPage = ($pageStart + $pageLength < $numberPage) ? ($pageStart + $pageLength) : $numberPage;
?>

<div class="toolbar-bottom">
    <div class="pager">
        <div class="pages">
            <strong class="label pages-label" id="paging-label">Page</strong>
            <ul class="items pages-items" aria-labelledby="paging-label">
                <?php if ($block->getCurrentPage() > 1): ?>
                    <li class="item pages-item-previous">
                        <a class="action  previous"
                           href="<?= $block->escapeHtml($block->getPageUrl($currentPage - 1)) ?>"
                           title="Previous">
                            <span class="label">Page</span>
                            <span>Previous</span>
                        </a>
                    </li>
                <?php endif; ?>
                <?php if ($currentPage > 1 && $currentPage + 1 == $pageStart): ?>
                    <li class="item <?= $currentPage == $block->getCurrentPage() ? 'current' : '' ?>">
                        <a href="<?= $block->escapeHtml($block->getPageUrl($currentPage)) ?>" class="page">
                            <span class="label">Page</span>
                            <span><?= $currentPage ?></span>
                        </a>
                    </li>
                <?php endif; ?>
                <?php for ($page = $pageStart; $page <= $lastPage; $page++): ?>
                    <li class="item <?= $page == $block->getCurrentPage() ? 'current' : '' ?>">
                        <a href="<?= $block->escapeHtml($block->getPageUrl($page)) ?>" class="page">
                            <span class="label">Page</span>
                            <span><?= $page ?></span>
                        </a>
                    </li>
                <?php endfor; ?>
                <?php if ($block->isJumpPage($numberPage) && ($lastPage + 1) < $numberPage): ?>
                    <li class="item">
                        <strong class="page">
                            <span class="label">...</span>
                            <span>...</span>
                        </strong>
                    </li>
                <?php endif; ?>
                <?php if ($numberPage >= $currentPage): ?>
                <li class="item <?= $numberPage == $block->getCurrentPage() ? 'current' : '' ?>">
                    <a href="<?= $block->escapeHtml($block->getPageUrl($numberPage)) ?>" class="page">
                        <span class="label">Page</span>
                        <span><?= $numberPage ?></span>
                    </a>
                </li>
                <?php endif; ?>
                <?php if ($numberPage > $currentPage): ?>
                    <li class="item pages-item-next">
                        <a class="action  next"
                           href="<?= $block->escapeHtml($block->getPageUrl($currentPage + 1)) ?>"
                           title="Next">
                            <span class="label">Page</span>
                            <span>Next</span>
                        </a>
                    </li>
                <?php endif; ?>
            </ul>
        </div>
    </div>
</div>
